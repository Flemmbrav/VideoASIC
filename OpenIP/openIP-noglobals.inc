.SUBCKT inv1 A Y VDD VSS
M1 Y A VSS VSS nch L=1.2u W=3u M=1
M2 Y A VDD VDD pch L=0.4u W=3u M=1
.ENDS
.SUBCKT inv4P A Y VDD1 VSS VSS1
M1 Y A VSS1 VSS nch L=1.2u W=12u M=1
M2 Y A VDD1 VDD1 pch L=0.4u W=12u M=1
.ENDS
.SUBCKT NANDP A B Y VDD1 VSS VSS1
M1 N3 B VSS1 VSS nch L=0.4u W=1.2u M=1
M2 Y A N3 VSS nch L=0.4u W=1.2u M=1
M3 Y A VDD1 VDD1 pch L=0.4u W=1.2u M=1
M4 Y B VDD1 VDD1 pch L=0.4u W=1.2u M=1
.ENDS
.SUBCKT inv1P A Y VDD1 VSS VSS1
M1 Y A VSS1 VSS nch L=1.2u W=3.u M=1
M2 Y A VDD1 VDD1 pch L=0.4u W=3.u M=1
.ENDS
.SUBCKT DFFP CK D Q QB RB VDD1 VSS VSS1
X1 CK ICKB VDD1 VSS VSS1 inv1P
X2 ICKB ICK VDD1 VSS VSS1 inv1P
X3 Q QB VDD1 VSS VSS1 inv1P
X4 ICK ICKB D IQ RB VDD1 VSS VSS1 LatchP
X5 ICKB ICK IQ Q RB VDD1 VSS VSS1 LatchP
.ENDS
.SUBCKT GINVP A CK CKB Y VDD1 VSS VSS1
M1 N3 CK VSS1 VSS nch L=1.2u W=1.2u M=1
M2 Y A N3 VSS nch L=1.2u W=1.2u M=1
M3 Y A N8 VDD1 pch L=0.4u W=1.2u M=1
M4 N8 CKB VDD1 VDD1 pch L=0.4u W=1.2u M=1
.ENDS
.SUBCKT LatchP CK CKB D Q RB VDD1 VSS VSS1
X1 D CKB CK IQ VDD1 VSS VSS1 GINVP
X2 IQ Q VDD1 VSS VSS1 inv1P
X3 Q CK CKB IQ VDD1 VSS VSS1 GINVP
M1 IQ RB VDD1 VDD1 pch L=0.4u W=3u M=1
.ENDS
.SUBCKT NORP A B Y VDD1 VSS VSS1
M1 Y B VSS1 VSS nch L=1.2u W=3u M=1
M2 Y A VSS1 VSS nch L=1.2u W=3u M=1
M3 Y A N3 VDD1 pch L=0.4u W=3u M=1
M4 N3 B VDD1 VDD1 pch L=0.4u W=3u M=1
.ENDS
